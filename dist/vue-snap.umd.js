!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("seamless-scroll-polyfill/dist/esm/Element.scrollBy"),require("core-js/modules/es.array.every"),require("core-js/modules/es.array.find-index"),require("core-js/modules/es.array.map"),require("lodash/debounce")):"function"==typeof define&&define.amd?define(["exports","seamless-scroll-polyfill/dist/esm/Element.scrollBy","core-js/modules/es.array.every","core-js/modules/es.array.find-index","core-js/modules/es.array.map","lodash/debounce"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).VueSnap={},e.Element_scrollBy,null,null,null,e._.debounce)}(this,(function(e,t,r,n,i,s){"use strict";function o(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var a=o(s),l=function(e,t,r){return Math.abs(e-t)<=r},c="undefined"==typeof window,d=!c;function u(e){return function(e){if(Array.isArray(e))return f(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return f(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}c||"scrollBehavior"in document.documentElement.style||t.elementScrollByPolyfill();function h(e,t,r,n,i,s,o,a,l,c){"boolean"!=typeof o&&(l=a,a=o,o=!1);const d="function"==typeof r?r.options:r;let u;if(e&&e.render&&(d.render=e.render,d.staticRenderFns=e.staticRenderFns,d._compiled=!0,i&&(d.functional=!0)),n&&(d._scopeId=n),s?(u=function(e){(e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext)||"undefined"==typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),t&&t.call(this,l(e)),e&&e._registeredComponents&&e._registeredComponents.add(s)},d._ssrRegister=u):t&&(u=o?function(e){t.call(this,c(e,this.$root.$options.shadowRoot))}:function(e){t.call(this,a(e))}),u)if(d.functional){const e=d.render;d.render=function(t,r){return u.call(r),e(t,r)}}else{const e=d.beforeCreate;d.beforeCreate=e?[].concat(e,u):[u]}return r}const p={props:{hideArrows:{type:Boolean,default:!1},hideArrowsOnBound:{type:Boolean,default:!1},tag:{type:String,default:"ul"},i18n:{type:Object,default:function(){return{slideLeft:"Slide left",slideRight:"Slide right"}},validator:function(e){return["slideLeft","slideRight"].every((function(t){return t in e}))}}},data:function(){return{boundLeft:!0,boundRight:!1,slidesWidth:[],wrapperScrollWidth:0,wrapperVisibleWidth:0,currentPage:0,currentPos:0,maxPages:0,step:1,observer:null,onResizeFn:null,onScrollFn:null}},watch:{currentPage:function(e,t){e!==t&&this.$emit("page",{current:e,previous:t})}},mounted:function(){this.calcOnInit(),d&&(this.onResizeFn=a.default(this.calcOnInit,410),this.onScrollFn=a.default(this.calcOnScroll,100),this.attachMutationObserver(),this.$refs.vsWrapper.addEventListener("scroll",this.onScrollFn),window.addEventListener("resize",this.onResizeFn,!1))},beforeDestroy:function(){d&&(this.observer.disconnect(),this.$refs.vsWrapper.removeEventListener("scroll",this.onScrollFn),window.removeEventListener("resize",this.onResizeFn,!1))},methods:{calcOnInit:function(){this.$refs.vsWrapper&&(this.calcWrapperWidth(),this.calcSlidesWidth(),this.calcCurrentPosition(),this.calcCurrentPage(),this.calcBounds(),this.calcMaxPages())},calcOnScroll:function(){this.$refs.vsWrapper&&(this.calcCurrentPosition(),this.calcCurrentPage(),this.calcBounds())},calcBounds:function(){var e=l(this.currentPos,0,5),t=l(this.wrapperScrollWidth-this.wrapperVisibleWidth,this.currentPos,5);e?(this.$emit("bound-left",!0),this.boundLeft=!0):this.boundLeft=!1,t?(this.$emit("bound-right",!0),this.boundRight=!0):this.boundRight=!1},calcWrapperWidth:function(){this.wrapperScrollWidth=this.$refs.vsWrapper.scrollWidth,this.wrapperVisibleWidth=this.$refs.vsWrapper.offsetWidth},calcSlidesWidth:function(){var e=u(this.$refs.vsWrapper.children);this.slidesWidth=e.map((function(e){return{offsetLeft:e.offsetLeft,width:e.offsetWidth}}))},calcCurrentPage:function(){var e=this,t=this.slidesWidth.findIndex((function(t){return l(t.offsetLeft,e.currentPos,5)}));-1!==t&&-2!==t&&(this.currentPage=t||0)},calcCurrentPosition:function(){this.currentPos=this.$refs.vsWrapper.scrollLeft||0},calcMaxPages:function(){var e=this.wrapperScrollWidth-this.wrapperVisibleWidth;this.maxPages=this.slidesWidth.findIndex((function(t){return t.offsetLeft>e}))-1},calcNextWidth:function(e){var t=e>0?this.currentPage:this.currentPage+e,r=this.slidesWidth[t].width||0;if(r)return r*e},attachMutationObserver:function(){var e=this;this.observer=new MutationObserver((function(){e.calcOnInit()})),this.observer.observe(this.$refs.vsWrapper,{attributes:!0,childList:!0,characterData:!0,subtree:!0})},changeSlide:function(e){var t=-1===e&&this.boundLeft,r=1===e&&this.boundRight;if(!t&&!r){var n=this.calcNextWidth(e);n&&this.scrollTo(n)}},scrollTo:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;this.$refs.vsWrapper.scrollBy({left:e,behavior:"smooth"})}}};var v=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"vs-carousel"},[r(e.tag,{ref:"vsWrapper",tag:"component",staticClass:"vs-carousel__wrapper"},[e._t("default")],2),e._v(" "),e.hideArrows?e._e():e._t("arrows",[r("button",{directives:[{name:"show",rawName:"v-show",value:!e.hideArrowsOnBound||!e.boundLeft,expression:"hideArrowsOnBound ? !boundLeft : true"}],staticClass:"\n        vs-carousel__arrows\n        vs-carousel__arrows--left\n      ",attrs:{type:"button","aria-label":e.i18n.slideLeft,disabled:e.boundLeft},on:{click:function(t){return e.changeSlide(-1)}}},[e._v("\n      ←\n    ")]),e._v(" "),r("button",{directives:[{name:"show",rawName:"v-show",value:!e.hideArrowsOnBound||!e.boundRight,expression:"hideArrowsOnBound ? !boundRight : true"}],staticClass:"\n        vs-carousel__arrows\n        vs-carousel__arrows--right\n      ",attrs:{type:"button","aria-label":e.i18n.slideRight,disabled:e.boundRight},on:{click:function(t){return e.changeSlide(1)}}},[e._v("\n      →\n    ")])])],2)};v._withStripped=!0;const b=h({render:v,staticRenderFns:[]},undefined,p,undefined,false,undefined,!1,void 0,void 0,void 0);const m={props:{tag:{type:String,default:"li"}}};var y=function(){var e=this,t=e.$createElement;return(e._self._c||t)(e.tag,{ref:"vsSlide",tag:"component",staticClass:"vs-carousel__slide",attrs:{tabindex:"0"}},[e._t("default")],2)};y._withStripped=!0;const g=h({render:y,staticRenderFns:[]},undefined,m,undefined,false,undefined,!1,void 0,void 0,void 0);var _={install:function(e){e.component("carousel",b),e.component("slide",g)}};e.Carousel=b,e.Slide=g,e.default=_,Object.defineProperty(e,"__esModule",{value:!0})}));
