!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("seamless-scroll-polyfill/dist/esm/Element.scrollBy"),require("lodash/debounce"),require("vue")):"function"==typeof define&&define.amd?define(["exports","seamless-scroll-polyfill/dist/esm/Element.scrollBy","lodash/debounce","vue"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).VueSnap={},e.Element_scrollBy,e._.debounce,e.vue)}(this,(function(e,t,s,r){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var o=i(s),l=function(e,t,s){return Math.abs(e-t)<=s},n="undefined"==typeof window,a=!n;n||"scrollBehavior"in document.documentElement.style||t.elementScrollByPolyfill();var c={props:{hideArrows:{type:Boolean,default:!1},hideArrowsOnBound:{type:Boolean,default:!1},tag:{type:String,default:"ul"},i18n:{type:Object,default:()=>({slideLeft:"Slide left",slideRight:"Slide right"}),validator:e=>["slideLeft","slideRight"].every(t=>t in e)}},data:()=>({boundLeft:!0,boundRight:!1,slidesWidth:[],wrapperScrollWidth:0,wrapperVisibleWidth:0,currentPage:0,currentPos:0,maxPages:0,step:1,observer:null,onResizeFn:null,onScrollFn:null}),watch:{currentPage(e,t){e!==t&&this.$emit("page",{current:e,previous:t})}},mounted(){this.calcOnInit(),a&&(this.onResizeFn=o.default(this.calcOnInit,410),this.onScrollFn=o.default(this.calcOnScroll,100),this.attachMutationObserver(),this.$refs.vsWrapper.addEventListener("scroll",this.onScrollFn),window.addEventListener("resize",this.onResizeFn,!1))},beforeDestroy(){a&&(this.observer.disconnect(),this.$refs.vsWrapper.removeEventListener("scroll",this.onScrollFn),window.removeEventListener("resize",this.onResizeFn,!1))},methods:{calcOnInit(){this.$refs.vsWrapper&&(this.calcWrapperWidth(),this.calcSlidesWidth(),this.calcCurrentPosition(),this.calcCurrentPage(),this.calcBounds(),this.calcMaxPages())},calcOnScroll(){this.$refs.vsWrapper&&(this.calcCurrentPosition(),this.calcCurrentPage(),this.calcBounds())},calcBounds(){const e=l(this.currentPos,0,5),t=l(this.wrapperScrollWidth-this.wrapperVisibleWidth,this.currentPos,5);e?(this.$emit("bound-left",!0),this.boundLeft=!0):this.boundLeft=!1,t?(this.$emit("bound-right",!0),this.boundRight=!0):this.boundRight=!1},calcWrapperWidth(){this.wrapperScrollWidth=this.$refs.vsWrapper.scrollWidth,this.wrapperVisibleWidth=this.$refs.vsWrapper.offsetWidth},calcSlidesWidth(){const e=[...this.$refs.vsWrapper.children];this.slidesWidth=e.map(e=>({offsetLeft:e.offsetLeft,width:e.offsetWidth}))},calcCurrentPage(){const e=this.slidesWidth.findIndex(e=>l(e.offsetLeft,this.currentPos,5));-1!==e&&-2!==e&&(this.currentPage=e||0)},calcCurrentPosition(){this.currentPos=this.$refs.vsWrapper.scrollLeft||0},calcMaxPages(){const e=this.wrapperScrollWidth-this.wrapperVisibleWidth;this.maxPages=this.slidesWidth.findIndex(({offsetLeft:t})=>t>e)-1},calcNextWidth(e){const t=e>0?this.currentPage:this.currentPage+e,s=this.slidesWidth[t].width||0;if(s)return s*e},attachMutationObserver(){this.observer=new MutationObserver(()=>{this.calcOnInit()}),this.observer.observe(this.$refs.vsWrapper,{attributes:!0,childList:!0,characterData:!0,subtree:!0})},changeSlide(e){const t=-1===e&&this.boundLeft,s=1===e&&this.boundRight;if(t||s)return;const r=this.calcNextWidth(e);r&&this.scrollTo(r)},scrollTo(e=0){this.$refs.vsWrapper.scrollBy({left:e,behavior:"smooth"})}}};const d={class:"vs-carousel"};c.render=function(e,t,s,i,o,l){return r.openBlock(),r.createBlock("div",d,[(r.openBlock(),r.createBlock(r.resolveDynamicComponent(s.tag),{ref:"vsWrapper",class:"vs-carousel__wrapper"},{default:r.withCtx(()=>[r.createCommentVNode(" @slot Slot for Slides "),r.renderSlot(e.$slots,"default")]),_:3},512)),r.createCommentVNode(" @slot Slot for Arrows "),s.hideArrows?r.createCommentVNode("v-if",!0):r.renderSlot(e.$slots,"arrows",{key:0,"change-slide":l.changeSlide,"bound-left":e.boundLeft,"bound-right":e.boundRight},()=>[r.withDirectives(r.createVNode("button",{type:"button","aria-label":s.i18n.slideLeft,disabled:e.boundLeft,class:"\n          vs-carousel__arrows\n          vs-carousel__arrows--left\n        ",onClick:t[1]||(t[1]=e=>l.changeSlide(-1))}," ← ",8,["aria-label","disabled"]),[[r.vShow,!s.hideArrowsOnBound||!e.boundLeft]]),r.withDirectives(r.createVNode("button",{type:"button","aria-label":s.i18n.slideRight,disabled:e.boundRight,class:"\n          vs-carousel__arrows\n          vs-carousel__arrows--right\n        ",onClick:t[2]||(t[2]=e=>l.changeSlide(1))}," → ",8,["aria-label","disabled"]),[[r.vShow,!s.hideArrowsOnBound||!e.boundRight]])])])},c.__file="src/components/Carousel/Carousel.vue";var h={props:{tag:{type:String,default:"li"}}};h.render=function(e,t,s,i,o,l){return r.openBlock(),r.createBlock(r.resolveDynamicComponent(s.tag),{ref:"vsSlide",class:"vs-carousel__slide",tabindex:"0"},{default:r.withCtx(()=>[r.renderSlot(e.$slots,"default")]),_:3},512)},h.__file="src/components/Slide/Slide.vue";var u={install:function(e){e.component("carousel",c),e.component("slide",h)}};e.Carousel=c,e.Slide=h,e.default=u,Object.defineProperty(e,"__esModule",{value:!0})}));
